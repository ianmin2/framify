                  
                <div class="" ng-init="fetch([['roles'],['users']])"></div>
                <!-- START BREADCRUMB -->
                <ul class="breadcrumb">
                    <li><a href="/#/">Administrator</a></li>                    
                    <li class="active">Manage Users</li>
                </ul>
                <!-- END BREADCRUMB -->                
                
                <!--<div class="page-title">                    
                    <h2><span class="fa fa-arrow-circle-o-left"></span> {{title}}</h2>
                </div>                   
                -->
                <!-- PAGE CONTENT WRAPPER -->
                <div class="page-content-wrap">
                
                    <div class="row">
                       
                        <div class="col-md-12">
                           
                            <button class="btn btn-primary" ng-click="frmToggle()">User Management</button>
                            <br>
                            <!--<form class="form-horizontal" id="school_form" onsubmit="return false;" enctype="multipart/form-data">-->
                            <form class="form-horizontal" name="userForm" id="userForm" novalidate>
                                <div class="panel panel-default">
                                    <div class="panel-heading">
                                        <h3 class="panel-title"><strong>Adding Users</strong> .</h3>
                                        <ul class="panel-controls">
                                             <li><a href="/#/" class="panel-remove"><span class="fa fa-times"></span></a></li>
                                        </ul>
                                    </div>
                                    <div class="panel-body">
                                        <p>This manages the different users of the system in the school.</p>
                                    </div>
                                    
                    <div class="form-group">
                        <label class="col-md-3 col-xs-12 control-label">User Details</label>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon"><span class="fa fa-user"></span></span>
                                <input type="text" class="form-control"
                                 ng-model="data.users.user_id" 
                                 name="user_id" 
                                 ng-required="true"
                                 placeholder="admin/teacher ID"/>
                            </div> 
                            <span ng-if="!data.users.user_id" class="help-block">Enter a user id.</span>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon"><span class="fa fa-user"></span></span>
                                <input 
                                type="text" 
                                class="form-control"
                                ng-model="data.users.name"
                                ng-required="true"
                                name="name" 
                                placeholder="Name"/>
                            </div> 
                            <span ng-if="!data.users.name" class="help-block">Enter a name.</span>
                        </div>
                                                               
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 col-xs-12 control-label">User Contacts</label>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon"><span class="fa fa-envelope-o"></span></span>
                                <input type="email" class="form-control"
                                 ng-model="data.users.email" 
                                 ng-pattern="app.isemail"
                                 name="user_id" 
                                 ng-required="true"
                                 placeholder="Email"/>
                            </div> 
                            <span ng-if="!data.users.email" class="help-block">Enter an email.</span>
                        </div>
                        <div class="col-md-3">
                            <div class="input-group">
                                <span class="input-group-addon"><span class="fa fa-phone"></span></span>
                                <input 
                                type="telephone" 
                                class="form-control"
                                ng-model="data.users.phone"
                                ng-required="true"
                                ng-pattern="app.istelephone"
                                name="name" 
                                placeholder="Telephone"/>                                
                            </div> 
                            <span ng-if="!data.users.phone" class="help-block">Enter a telephone number.</span>
                        </div>
                                                               
                    </div>
                    
                    <div class="form-group">
                        <label class="col-md-3 col-xs-12 control-label">Role </label>
                        <div class="col-md-6 col-xs-12">                                                                                            
                            <select class="form-control select" 
                            ng-model="data.users.role" 
                            name="role">
                                <option value="" selected>Select Role...</option>
                                <option ng-repeat="role in fetched.roles" value="{{role.role_id}}">{{role.title}}</option>
                            </select>
                            <span ng-if="!data.users.role" class="help-block">Select role.</span>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label class="col-md-3 col-xs-12 control-label">Password:</label>
                        <div class="col-md-3">                                            
                            <div class="input-group">
                                <span class="input-group-addon"><span class="fa fa-lock"></span></span>
                                <input 
                                type="password" 
                                class="form-control" 
                                name="father_phone" 
                                ng-required="true"
                                ng-pattern="app.ispassword"
                                ng-model="data.users.password" />
                            </div>                                            
                            <span ng-if="!data.users.password" class="help-block">Enter Password</span>
                        </div>
                        <div class="col-md-3">                                            
                            <div class="input-group">
                                <span class="input-group-addon"><span class="fa fa-lock"></span></span>
                                <input 
                                type="password" 
                                class="form-control" 
                                name="father_phone" 
                                ng-required="true"
                                ng-pattern="app.ispassword"
                                ng-model="data.users.password2" />
                            </div>                                            
                            <span ng-if="!app.matches(data.users.password,data.users.password2)" class="help-block">Confirm Password</span>
                        </div>
                    </div>
                   
                        <div class="panel-footer">
                            <button type="reset" class="btn btn-default">Clear Form</button>
                            <!--<input type="submit" class="btn btn-primary pull-right" value="Submit" onclick="return submit()" >-->
                            <button 
                            ng-disabled="!userForm.$valid" 
                            class="btn btn-primary pull-right" 
                            ng-click="add('users',data.users)"
                            type="submit">Submit</button>
                        </div>
                    
                </div>
            </form>

        
            <!-- START DATATABLE EXPORT -->
                        <div class="panel panel-default">
                            <div id="my-data"></div>
                            <div class="panel-heading">

                                <h3 class="panel-title">DataTable Export</h3>
                                <div class="btn-group pull-right">
                                    
                                    <button class="btn btn-danger dropdown-toggle" data-toggle="dropdown"><i class="fa fa-bars"></i> Export Data</button>
                                    <ul class="dropdown-menu">
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'json',escape:'false'});"><img src='img/icons/json.png' width="24"/> JSON</a></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'json',escape:'false',ignoreColumn:'[2,3]'});"><img src='img/icons/json.png' width="24"/> JSON (ignoreColumn)</a></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'json',escape:'true'});"><img src='img/icons/json.png' width="24"/> JSON (with Escape)</a></li>
                                        <li class="divider"></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'xml',escape:'false'});"><img src='img/icons/xml.png' width="24"/> XML</a></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'sql'});"><img src='img/icons/sql.png' width="24"/> SQL</a></li>
                                        <li class="divider"></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'csv',escape:'false'});"><img src='img/icons/csv.png' width="24"/> CSV</a></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'txt',escape:'false'});"><img src='img/icons/txt.png' width="24"/> TXT</a></li>
                                        <li class="divider"></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'excel',escape:'false'});"><img src='img/icons/xls.png' width="24"/> XLS</a></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'doc',escape:'false'});"><img src='img/icons/word.png' width="24"/> Word</a></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'powerpoint',escape:'false'});"><img src='img/icons/ppt.png' width="24"/> PowerPoint</a></li>
                                        <li class="divider"></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'png',escape:'false'});"><img src='img/icons/png.png' width="24"/> PNG</a></li>
                                        <li><a href="#" onClick ="$('#customers2').tableExport({type:'pdf',escape:'false'});"><img src='img/icons/pdf.png' width="24"/> PDF</a></li>
                                    </ul>
                                </div>                                    
                                
                            </div>
                            <div class="panel-body">
                                <table id="customers2" class="table datatable">
                                    <thead>
                                        <tr>
                                            <th>User ID</th>
                                            <th>Name</th>
                                            <th>Email</th>
                                            <th>Phone</th>
                                            <!--<th>Role</th>-->
                                            <th>Action</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                    
                                        <tr ng-repeat="user in fetched.users">
                                            <td ng-bind="user.user_id"></td>
                                            <td ng-model="user.name" ng-required="true" contenteditable>{{user.name}}</td>
                                            <td ng-model="user.email"  contenteditable>{{user.email}}</td>
                                            <td ng-model="user.phone"  contenteditable>{{user.phone}}</td>
                                            <!--<td >
                                                <select class="form-control select" 
                                                ng-model="user.role" 
                                                name="role">
                                                    <option value="{{user.role}}" selected>{{}}</option>
                                                    <option ng-repeat="role in fetched.roles" value="{{role.role_id}}">{{role.title}}</option>
                                                </select>
                                            </td>-->
                                            <td>
                                                <button class="btn btn-default" ng-click="update('users',{ name: user.name, email: user.email, phone: user.phone,  extras: ' user_id=\''+user.user_id+'\''},'my-data')"><i class="fa fa-pencil"></i></button>
                                                <button ng-class="user.active?'btn btn-success':' btn btn-danger'" ng-click="update('users',{ active:!user.active,  extras: ' user_id=\''+user.user_id+'\''},'my-data')"><i
                                                ng-class="user.active?'fa fa-eye':'fa fa-eye-slash'"></i></button>
                                                    
                                            </td>
                                        </tr>
                                        
                                    </tbody>
                                </table>                                    
                                
                            </div>
                        </div>
                        <!-- END DATATABLE EXPORT -->  

        </div>              
 <br>
    </div>
      <br>      
    
</div>
<!-- END PAGE CONTENT WRAPPER -->             
       <br>     